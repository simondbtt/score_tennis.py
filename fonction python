def afficher_score(score):
    score_liste = ["0", "15", "30", "40"]
    if score[0] >= 4 or score[1] >= 4:
        if abs(score[0] - score[1]) >= 2:
            if score[0] > score[1]:
                return "Joueur 1 gagne le jeu"
            else:
                return "Joueur 2 gagne le jeu"
        elif score[0] == score[1]:
            return "Egalité"
        elif score[0] > score[1]: 
            return "Avantage Joueur 1"
        else:
            return "Avantage Joueur 2"
    else:
        return f"Joueur 1: {score_liste[score[0]]} - Joueur 2: {score_liste[score[1]]}"

def jeu_tennis():
    score = [0, 0]  # [score_joueur1, score_joueur2]
    while True:
        print(afficher_score(score))
        point = input("Qui a gagné le point ? (1 pour Joueur 1, 2 pour Joueur 2, ): ")
        if point == "1":
            score[0] += 1
        elif point == "2":
            score[1] += 1
        elif point == "q":
            print("Fin du jeu.")
            break
        else:
            print("Entrée invalide, essayez encore.")
def set_tennis():
    """Simule un set de tennis."""
    jeux_joueur1 = 0
    jeux_joueur2 = 0
    while True:
        print(f"\nSet en cours: Joueur 1: {jeux_joueur1} jeux - Joueur 2: {jeux_joueur2} jeux")
        
        # Simuler un jeu
        score = jeu_tennis()
        
        if score is None:
            return None  # Arrêter le set si le jeu est quitté

        # Le gagnant du jeu (le joueur qui a 4 points ou plus avec 2 points d'écart)
        if score[0] > score[1]:
            jeux_joueur1 += 1
        else:
            jeux_joueur2 += 1
        
        # Vérifier si un joueur a gagné le set (6 jeux minimum avec 2 jeux d'écart)
        if (jeux_joueur1 >= 6 or jeux_joueur2 >= 6) and abs(jeux_joueur1 - jeux_joueur2) >= 2:
            if jeux_joueur1 > jeux_joueur2:
                print("Joueur 1 gagne le set !")
            else:
                print("Joueur 2 gagne le set !")
            return (jeux_joueur1, jeux_joueur2)

def match_tennis():
    """Simule un match de tennis au meilleur des 3 sets."""
    sets_joueur1 = 0
    sets_joueur2 = 0
    
    while sets_joueur1 < 2 and sets_joueur2 < 2:
        print(f"\nMatch en cours: Joueur 1: {sets_joueur1} sets - Joueur 2: {sets_joueur2} sets")
        
        # Simuler un set
        score_set = set_tennis()
        
        if score_set is None:
            print("Le match a été interrompu.")
            break
        
        # Le gagnant du set
        if score_set[0] > score_set[1]:
            sets_joueur1 += 1
        else:
            sets_joueur2 += 1
        
    # Déterminer le gagnant du match
    if sets_joueur1 > sets_joueur2:
        print("\nJoueur 1 gagne le match !")
    else:
        print("\nJoueur 2 gagne le match !")

match_tennis()
